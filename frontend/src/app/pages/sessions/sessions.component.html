<!DOCTYPE html>
<html lang="en">  
    <head>  
        <meta charset="utf-8">
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <title>Sessions</title>  
    </head>  
    <body>  
        <div class="container">  
        <br/>
            <h2 style="text-align:center">Sesssion Manager</h2><br/>

            <div class="table-responsive" ng-app="liveApp" ng-controller="liveController" ng-init="getAllSessions()">
                <div class="alert alert-success alert-dismissible" ng-show="success" >
                    <a href="#" class="close" data-dismiss="alert" ng-click="closeMsg()" aria-label="close">&times;</a>
                    {{successMessage}}
                </div>
                <form name="sessionForm" ng-submit="writeSession()">
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Presentation Name</th>
                                <th>Room Name</th>
                                <th>Speaker Name</th>
                                <th>Timeslot</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="text" ng-model="Session.name" class="form-control" formControlName="sessionName" placeholder="Enter Presentation Name" ng-required="true" /></td>

                                <td><select ng-model="Session.Room"  ng-options="sessions.room for room in Room" class="form-control" formControlName="sessionRoom" ng-required="true"> 
                                        <option [ngValue]="">Select a Room</option> </select>
                                </td>

                                <td><select ng-model="Session.Speaker" ng-options="sessions.speaker for speaker in Speaker" class="form-control" formControlName="sessionSpeaker" ng-required="true"> 
                                        <option [ngValue]="">Select a Speaker</option> </select>
                                </td>

                                <td><select ng-model="Session.Timeslot" ng-options="sessions.timelsot in Timeslot" class="form-control" formControlName="sessionTime" ng-required="true"> 
                                        <option [ngValue]="">Select a Timeslot</option> </select> 
                                </td>

                                <td><button type="submit" class="btn btn-success btn-sm" ng-disabled="sessionForm.invalid">Add</button></td>
                            </tr>

                            <tr *ngFor="let session of sessions">
                                    <td>
                                        <span (blur)="getAllSessions()">{{session.name}}</span>
                                    </td>
                                    <td>
                                       <span (blur)="getAllSessions()">{{session.room}}</span>
                                    </td>
                                    <td>                                            
                                        <span (blur)="getAllSessions()">{{session.speaker}}</span>
                                    </td>
                                    <td>
                                        <span (blur)="getAllSessions()">{{session.timeslot}}</span>
                                    </td>
                            </tr>
                            
                        </tbody>
                    </table>
                </form>
   </div>  
  </div>
    </body>  
</html> 
